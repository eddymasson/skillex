/*! qubHeader 2017-09-27 */
function initQubHeader(a,b,c,d,e,f,g,h,i){function j(){return'<div class="skin-blue qubHeader"><span class="logo"><span class="logo-lg" id="infoAppName">AppName</span></span><nav class="navbar navbar-static-top" role="navigation"><a href="#" class="sidebar-toggle" data-toggle="dropdown" role="button"><span class="sr-only">Toggle navigation</span></a><ul class="dropdown-menu"><li class="app-header"><p id="infoTeamName" class="pull-left">NomEquipe</p><div class="pull-right"><a href="#" id="btnChTeam" class=""><i class="fa fa-exchange"></i> Changer</a></div></li><li class="app-body"><ul id="appList" class="app-list"></ul></li><li class="app-footer"><div class="pull-right"><a href="#" class="btn btn-default btn-flat logOut">DÃ©connexion </a></div></li></ul><div class="navbar-custom-menu"><ul class="nav navbar-nav"><li class="dropdown user user-menu"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><img src="https://conferencecloud-assets.s3.amazonaws.com/default_avatar.png" class="user-image avatar-content" alt="User Image"><span class="hidden-xs infoUserName"> PrenomNomUser !</span></a><ul class="dropdown-menu"><li class="user-header"><img src="https://conferencecloud-assets.s3.amazonaws.com/default_avatar.png" class="img-circle avatar-content" alt="User Image"><p><span class="infoUserName">NomPrenomUser</span> - <span class="infoUserRole">UserRole</span><small>CrÃ©Ã© le <span class="infoCreatedAt">dateCrea</span> par <span class="infoCreatedBy">PrenomNomCrea</span></small></p></li><li class="user-footer"><div class="pull-right"><a href="#" class="btn btn-default btn-flat logOut">DÃ©connexion</a></div></li></ul></li><li><a href="#" class="logOut"><i class="fa fa-power-off"></i></a></li></ul></div></nav></div>'}function k(a,b,c,d,e,f,g,h){$("<form>",{action:a,method:"post"}).append(l("apiKey",b),l("user",c),l("id_user",d),l("admin",e),l("team",f),l("id_team",g),l("role",h)).appendTo($("body")).submit()}function l(a,b){return $("<input>",{name:a,value:b,type:"hidden"})}function m(a,b,c,d,e,f,g,h,i){this.appNom=a,this.user=b,this.userId=c,this.admin=d,this.team=e,this.teamId=f,this.role=g,this.apiKey=h,this.teamData,this.userData,this.qubAdress=i}var n,o;$("body").prepend(j()),$.ajax({method:"GET",datatype:"json",url:i+"/api/team/"+f,data:{apikey:h}}).done(function(a){n=a}),$.ajax({method:"GET",dataType:"json",url:i+"/api/user/"+c,data:{apikey:h}}).done(function(a){o=a}),$(document).ajaxStop(function(){var j=new m(a,b,c,d,e,f,g,h,i);j.setTeamData(n),j.setUserData(o),j.fillHeader()}),m.prototype={constructor:m,buildHeader:function(){},fillHeader:function(){var a=this;$("#infoAppName").html(this.appNom),$(".infoUserName").html(this.user),$("#infoTeamName").html(this.team),$("#btnChTeam").attr("href",this.qubAdress+"/team_table");var b;b=this.admin?"Administrateur":this.role,$(".infoUserRole").html(b);var c=new Date(this.userData.info.createdAt.date);$(".infoCreatedAt").html(c.toLocaleDateString());var d=this.userData.info.createdBy?this.userData.info.createdBy:"admin";$(".infoCreatedBy").html(d),(this.admin||"pilote"===this.role)&&$(".user-footer").append('<div class="pull-left"><a href="#" class="btn btn-default btn-flat toIHNI">IHNI</a></div>'),$("a.toIHNI").attr("href",this.qubAdress+"/qub/ihni/user/"),$("a.logOut").attr("href",this.qubAdress+"/logout");var e=this.teamData.info.modules;for(var f in e){var g=a.qubAdress+e[f].url,h=$("<li appUrl="+g+'><button type="button" class="btn btn-primary btn-flat">'+e[f].nom+"</button></li>");$("#appList").append(h),h.click(function(){k($(this).attr("appUrl"),a.apiKey,a.user,a.userId,a.admin,a.team,a.teamId,a.role)})}},setTeamData:function(a){this.teamData=a},setUserData:function(a){this.userData=a}}}